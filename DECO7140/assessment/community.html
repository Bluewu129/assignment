<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-
scale=1.0" />
    <title>Cooking</title>
    <link rel="stylesheet" href="css/css_reset.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/community.css">
    <!-- Font:Montserrat -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
</head>

<body>
    <nav class="home-navbar-light">
        <div class="header-logo">
            <img src="img/logo.png" alt="Logo">
        </div>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="recipes.html">Recipes</a></li>
            <li><a href="cooking_tips.html">Cooking Tips</a></li>
            <li><a href="community.html">Community</a></li>
            <li><a href="user_profile.html">User Profile</a></li>
        </ul>
    </nav>
    <section class="cooking-section">
        <div class="container">
            <div class="post">
                <img src="img/img_avatar.png" alt="User 头像" class="avatar">
                <div class="content">
                    <div class="username">User 1</div>
                    <div class="timestamp">2023-10-01 12:34</div>
                    <div class="message">
                        <p>Tried making spaghetti today, it turned out great!</p>
                    </div>
                </div>
            </div>

            <div class="post">
                <img src="img/img_avatar.png" alt="User 头像" class="avatar">
                <div class="content">
                    <div class="username">User 2</div>
                    <div class="timestamp">2023-10-01 13:45</div>
                    <div class="message">
                        <p>I'm learning to make sushi recently, any tips to recommend?</p>
                    </div>
                </div>
            </div>

            <div class="post">
                <img src="img/img_avatar.png" alt="User 头像" class="avatar">
                <div class="content">
                    <div class="username">User 3</div>
                    <div class="timestamp">2023-10-01 14:56</div>
                    <div class="message">
                        <p>Recommend a simple dessert recipe: Chocolate Mousse.</p>
                    </div>
                </div>
            </div>

            <div class="post">
                <img src="img/img_avatar.png" alt="User 头像" class="avatar">
                <div class="content">
                    <div class="username">User 4</div>
                    <div class="timestamp">2023-10-01 15:12</div>
                    <div class="message">
                        <p>I just baked an apple pie, it tastes amazing!</p>
                    </div>
                </div>
            </div>

            <div class="post">
                <img src="img/img_avatar.png" alt="User 头像" class="avatar">
                <div class="content">
                    <div class="username">User 5</div>
                    <div class="timestamp">2023-10-01 16:23</div>
                    <div class="message">
                        <p>Has anyone tried making chicken wings in an air fryer? How was it?</p>
                    </div>
                </div>
            </div>
            <button id="getRequestButton">Send GET Request</button>
            <div id="response"></div>
        </div>
    </section>

    <section>
        <form action="#" method="post">
            <label for="recipeName">Name of the recipe:</label>
            <input type="text" id="recipeName" name="recipeName" required minlength="3" maxlength="100">

            <label for="ingredients">ingredients:</label>
            <textarea id="ingredients" name="ingredients" required minlength="10" rows="4"></textarea>


            <label for="cookingTime">cooking time (minutes):</label>
            <input type="number" id="cookingTime" name="cookingTime" required min="1" max="300">

            <label for="difficulty">difficulty level:</label>
            <select id="difficulty" name="difficulty" required>
                <option value="">Please select the difficulty level</option>
                <option value="easy">easy</option>
                <option value="medium">medium</option>
                <option value="hard">hard</option>
            </select>

            <label for="category">category:</label>
            <select id="category" name="category" required>
                <option value="">Please select a category</option>
                <option value="breakfast">breakfast</option>
                <option value="lunch">lunch</option>
                <option value="dinner">dinner</option>
                <option value="dessert">dessert</option>
            </select>

            <div><input type="submit" value="submit"></input></div>
        </form>
    </section>


    <footer>
        <p>&copy; Cooking All rights reserved.</p>
    </footer>
    <script>
        // Set up the headers for student authentication
        const myHeaders = new Headers();
        myHeaders.append("student_number", "s4816737"); // Replace with actual student number
        myHeaders.append("uqcloud_zone_id", "e11123c8"); // Replace with actual zone ID
        // Request options for the GET request
        const requestOptions = { method: "GET", headers: myHeaders, redirect: "follow" };
        // Fetch data from the Generic Subscriber API
        fetch("https://damp-castle-86239-1b70ee448fbd.herokuapp.com/decoapi/genericsubscriber/", requestOptions)
            .then(response => response.json())
            // Parse the JSON response
            .then(data => {
                console.log(data); // Log the data for debugging
                // Example: Display the subscribers on a webpage
                let output = ""; data.forEach(subscriber => {
                    output += ` 
 <div class="subscriber"> 
 <h3>${subscriber.name}</h3> 
 ${subscriber.subscriber_image ? `<img src="${subscriber.subscriber_image}" alt="Image of 
${subscriber.name}">` : ""}
 <p>Social Media 1: <a href="${subscriber.social_media_1}" 
target="_blank">${subscriber.social_media_1}</a></p> 
 <p>Description: ${subscriber.social_media_1_description}</p> 
 <p>Social Media 2: <a href="${subscriber.social_media_2}"
target="_blank">${subscriber.social_media_2}</a></p> 
 <p>Description: ${subscriber.social_media_2_description}</p> 
 <p>Social Media 3: <a href="${subscriber.social_media_3}" 
target="_blank">${subscriber.social_media_3}</a></p> 
 <p>Description: ${subscriber.social_media_3_description}</p> </div> `;
                });
                document.getElementById('subscriber-list').innerHTML = output;
            })
            .catch(error => console.error('Error:', error)); // Handle any errors
    </script>
</body>

</html>